[gd_scene load_steps=7 format=3 uid="uid://bwh738xh4u5p"]

[ext_resource type="Material" uid="uid://dvvurfteukngw" path="res://assets/shaders/fire/stylized_fire_shader.tres" id="1_slb1a"]
[ext_resource type="Material" uid="uid://bmfa8ls4liji0" path="res://assets/shaders/fire/stylized_fire_particle.tres" id="2_ipank"]
[ext_resource type="Script" uid="uid://d3dlb46ewodpp" path="res://scripts/visuals/flickering_light.gd" id="3_ipank"]

[sub_resource type="QuadMesh" id="QuadMesh_342rn"]

[sub_resource type="FastNoiseLite" id="FastNoiseLite_dyoei"]
noise_type = 2
frequency = 0.3026

[sub_resource type="NoiseTexture3D" id="NoiseTexture3D_342rn"]
noise = SubResource("FastNoiseLite_dyoei")

[node name="Fire" type="GPUParticles3D"]
material_override = ExtResource("1_slb1a")
amount = 50
randomness = 0.74
fixed_fps = 60
draw_order = 1
process_material = ExtResource("2_ipank")
draw_pass_1 = SubResource("QuadMesh_342rn")

[node name="OmniLight3D" type="OmniLight3D" parent="."]
light_color = Color(0.707911, 0.395783, 0.0712182, 1)
light_volumetric_fog_energy = 12.215
shadow_enabled = true
shadow_bias = 1.045
shadow_opacity = 0.52
shadow_blur = 10.0
omni_range = 24.801
omni_attenuation = 0.685
script = ExtResource("3_ipank")
noise = SubResource("NoiseTexture3D_342rn")
position_jitter_amount = 0.05

[node name="Timer" type="Timer" parent="OmniLight3D"]
wait_time = 0.1
autostart = true

[connection signal="timeout" from="OmniLight3D/Timer" to="OmniLight3D" method="_on_timer_timeout"]
